2025-09-26 18:26:31.434 +03:00 [INF] User profile is available. Using 'C:\Users\ASUA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-26 18:26:31.463 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/todo - null null
2025-09-26 18:26:31.472 +03:00 [INF] Executing endpoint 'TodoApp.Api.Controllers.TodoController.GetAllTodos (TodoApp.Api)'
2025-09-26 18:26:31.480 +03:00 [INF] Route matched with {action = "GetAllTodos", controller = "Todo"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTodos(System.Nullable`1[System.Guid], System.Nullable`1[TodoApp.Domain.Entities.Priority], Int32, Int32) on controller TodoApp.Api.Controllers.TodoController (TodoApp.Api).
2025-09-26 18:26:31.509 +03:00 [INF] Executed action TodoApp.Api.Controllers.TodoController.GetAllTodos (TodoApp.Api) in 28.0798ms
2025-09-26 18:26:31.509 +03:00 [INF] Executed endpoint 'TodoApp.Api.Controllers.TodoController.GetAllTodos (TodoApp.Api)'
2025-09-26 18:26:31.513 +03:00 [ERR] Unhandled exception occurred
System.InvalidOperationException: Services for database providers 'Microsoft.EntityFrameworkCore.SqlServer', 'Microsoft.EntityFrameworkCore.InMemory' have been registered in the service provider. Only a single database provider can be registered in a service provider. If possible, ensure that Entity Framework is managing its service provider by removing the call to 'UseInternalServiceProvider'. Otherwise, consider conditionally registering the database provider, or maintaining one service provider per database provider.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, DbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.Include[TEntity,TProperty](IQueryable`1 source, Expression`1 navigationPropertyPath)
   at TodoApp.Infrastructure.Persistence.TodoRepository.GetAllAsync() in C:\Users\ASUA\source\repos\TodoApp.Api\TodoApp.Infrastructure\Persistence\TodoRepository.cs:line 32
   at TodoApp.Infrastructure.Services.TodoService.GetTodosWithFiltersAsync(Nullable`1 categoryId, Nullable`1 priority, Int32 pageNumber, Int32 pageSize) in C:\Users\ASUA\source\repos\TodoApp.Api\TodoApp.Infrastructure\Services\TodoService.cs:line 62
   at TodoApp.Api.Controllers.TodoController.GetAllTodos(Nullable`1 categoryId, Nullable`1 priority, Int32 pageNumber, Int32 pageSize) in C:\Users\ASUA\source\repos\TodoApp.Api\TodoApp.Api\Controllers\TodoController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TodoApp.Infrastructure.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\ASUA\source\repos\TodoApp.Api\TodoApp.Infrastructure\Middlewares\GlobalExceptionMiddleware.cs:line 25
2025-09-26 18:26:31.558 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/todo - 400 null application/json 94.8819ms
2025-09-26 18:28:15.068 +03:00 [INF] User profile is available. Using 'C:\Users\ASUA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-26 18:28:15.263 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/todo - application/json; charset=utf-8 12
2025-09-26 18:28:15.305 +03:00 [INF] Executing endpoint 'TodoApp.Api.Controllers.TodoController.CreateTodo (TodoApp.Api)'
2025-09-26 18:28:15.340 +03:00 [INF] Route matched with {action = "CreateTodo", controller = "Todo"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTodo(TodoApp.Application.DTOs.CreateTodoDto, FluentValidation.IValidator`1[TodoApp.Application.DTOs.CreateTodoDto]) on controller TodoApp.Api.Controllers.TodoController (TodoApp.Api).
2025-09-26 18:28:15.708 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[FluentValidation.Results.ValidationFailure, FluentValidation, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-26 18:28:15.727 +03:00 [INF] Executed action TodoApp.Api.Controllers.TodoController.CreateTodo (TodoApp.Api) in 382.8215ms
2025-09-26 18:28:15.732 +03:00 [INF] Executed endpoint 'TodoApp.Api.Controllers.TodoController.CreateTodo (TodoApp.Api)'
2025-09-26 18:28:15.737 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/todo - 400 null application/json; charset=utf-8 476.3025ms
